<!DOCTYPE html>
<html lang="es">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">  
   <title>Impresión de Remito</title>

   <style>
        body {
            font-family: Arial, sans-serif !important;
            font-size: 14pt !important;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 250px;
        }

        th {
            padding: 5px;
            text-align: center;
            color: #FFF;
        }
        td {
            padding: 5px;
            text-align: center;    
        }

        .Domicilio,
        .Domicilio2,
        .Camposvarios,
        .Facatc,
        .Ultreglon,
        .Totalin {
        }
        
        .Domicilio {
            background: red;
            position: absolute;
            justify-content: space-between;
            width: 1900px;
        }
        
        .Domicilio2 {
            float: right;
            text-align: right;
        }
        
        .Camposvarios {
            background: green;
            display: flex;
            justify-content: space-between;
            width: 1900px;
        }

        .campo-left,
        .campo-center,
        .campo-right {
            flex: 1;
        }

        .Facatc {
            background: yellow;
            position: absolute;
            justify-content: space-between;
            width: 1900px;
        }
        
        .Ultreglon {
            background: grey;
            position: absolute;
            justify-content: space-between;
            width: 1900px;
        }

        .Totalin {
            background: brown;
            position: absolute;
            justify-content: space-between;
            width: 1900px;
            margin-top: 270px;
            float: right;
            text-align: right;
        }

  		span#fecha {

}

   </style>
      <link rel="stylesheet" href="css/editel.css"> <!-- Asegúrate de enlazar correctamente el CSS -->
</head>

<body>
   <div id="page-container">
      <div id="pf1" class="pf w0 h0" data-page-no="1">
         <div class="pc pc1 w0 h0 opened">
            <div class="c x0 y1 w2 h2">
               <!-- Reemplazar con los datos recibidos del formulario -->
               <div class="Num_Remito t m0 x6 h7 y7 ff4 fs4 fc0 sc0 ls0 ws0">N°:</div>
               <div class="Fecha_Venta t m0 x7 h8 y8 ff2 fs5 fc0 sc0 ls0 ws0">Fecha: <span id="fecha"></span></div>
               <div class="Cliente t m0 x12 hd y16 ff2 fsa fc0 sc0 ls0 ws0">Señor/es: <span id="senores"></span></div>
               
               <div class="Domicilio t m0 x12 hd y17 ff2 fsa fc0 sc0 ls0 ws0">Domicilio: <span id="domicilio"></span>  Localidad: <span id="localidad" class="Domicilio2">&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;</div>
                <div class="Camposvarios t m0 x12 hd y18 ff2 fsa fc0 sc0 ls0 ws0">
                    <span class="campo-left">Tel.: <span id="tel"></span></span>
                    <span class="campo-center">IVA: <span id="iva"></span></span>
                    <span class="campo-right">CUIT: <span id="cuit" class="Domicilio2"></span></span>
                </div>
               <div class="Facatc t m0 x12 hd y19 ff2 fsa fc0 sc0 ls0 ws0">Atención Señor: <span id="atencionSenor"></span>  Factura N°: <span id="facturaN" class="Domicilio2"></span></div>

                <!-- Tabla para ítems -->
                <table>
                    <tr>
                        <th>Cantidad</th>
                        <th>Detalle</th>
                        <th>Precio Unit.</th>
                    </tr>
                    <tbody id="items">
                        <!-- Los ítems se llenarán aquí -->
                    </tbody>
                </table>
               
               <div class="Totalin t m0 x12 hd ff2 fsa fc0 sc0 ls0 ws0">TOTAL: <span id="total"></span></div>

               <!-- Observaciones -->
               <div class="t m0 x12 hf y1e ff2 fsb fc0 sc0 ls0 ws0">Observaciones: <span id="observaciones"></span></div>

               <!-- Recibi Conforme y Aclaracion -->
               <div class="Ultreglon t m0 x17 hd y20 ff2 fsa fc0 sc0 ls0 ws0">Recibi Conforme: <span id="recibiConforme"></span> Aclaracion: <span id="aclaracion" class="Domicilio2"></span></div>
            </div>
         </div>
      </div>
   </div>

    <script>
        function cargarDatos() {
            document.getElementById('fecha').textContent = localStorage.getItem('fecha');
            document.getElementById('senores').textContent = localStorage.getItem('senores');
            document.getElementById('domicilio').textContent = localStorage.getItem('domicilio');
            document.getElementById('localidad').textContent = localStorage.getItem('localidad');
            document.getElementById('tel').textContent = localStorage.getItem('tel');
            document.getElementById('iva').textContent = localStorage.getItem('iva');
            document.getElementById('cuit').textContent = localStorage.getItem('cuit');
            document.getElementById('atencionSenor').textContent = localStorage.getItem('atencionSenor');
            document.getElementById('facturaN').textContent = localStorage.getItem('facturaN');

            const items = JSON.parse(localStorage.getItem('items')) || [];
            const itemsTable = document.getElementById('items');
            let total = 0; // Variable para acumular el total

            itemsTable.innerHTML = ''; // Limpiar tabla antes de cargar datos
            items.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.cantidad}</td>
                    <td>${item.detalle}</td>
                    <td>${item.precio}</td>
                `;
                itemsTable.appendChild(row);
                total += parseFloat(item.precio) || 0; // Acumular el total, manejando posibles valores NaN
            });

            document.getElementById('total').textContent = total.toFixed(2); // Mostrar el total con dos decimales

            document.getElementById('observaciones').textContent = localStorage.getItem('observaciones');
            document.getElementById('recibiConforme').textContent = localStorage.getItem('recibiConforme');
            document.getElementById('aclaracion').textContent = localStorage.getItem('aclaracion');
        }

        cargarDatos();
    </script>

</body>
</html>
